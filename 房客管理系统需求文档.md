# 房客管理系统需求文档

## 1. 项目概述
我需要五楼和六楼管理的两栋楼的房客系统，五楼和六楼要分开，需要一个仪表盘来选择进入五楼或者六楼的管理页面，进入五楼后，只有五楼的相关信息，进入六楼也一样。

### 1.1 项目背景
本系统旨在为房屋出租业务提供一套完整的数字化管理解决方案，帮助房东或租赁管理公司高效管理房客信息、租赁合同、费用收缴等核心业务。

### 1.2 项目目标
- 实现房客信息的数字化管理
- 简化租赁合同的创建和管理流程
- 自动化租金和水电费计算收缴
- 提供直观的数据统计和报表功能
- 提高管理效率，降低人工成本


### 1.3 目标用户
- **主要用户**：房屋出租方（房东、物业管理公司）

## 2. 功能需求

### 2.1 房间管理模块

#### 2.1.1 房间信息管理
- **房间基础信息**
  - 房号管理（支持自定义编号规则）
  - 房间类型（单间、一室一厅、两室一厅等）
  - 基础租金设定
  - 押金标准设定
  - 水表/电表编号管理

- **房间状态管理**
  - 状态类型：空闲、已出租、维修中、停用
  - 状态变更记录
  - 房间可用性查询

#### 2.1.2 功能特性
- 房间列表查看和搜索
- 房间状态批量操作
- 房间信息导入导出
- 房间使用率统计

### 2.2 租客管理模块

#### 2.2.1 租客信息管理
- **基础信息**
  - 姓名、电话、身份证号
  - 入住房号
  - 创建时间记录

- **租住信息**
  - 当前租住状态（正常入住、已退房）
  - 入住人数管理
  - 入住时间记录
  - 押金信息
  - 备注信息

#### 2.2.2 租客分类管理
- **六楼住租客联系人**（contacts_new/rental_info_new）
  - 当前正在租住的租客信息
  - 实时状态更新

- **五楼租客联系人**（contacts_old/rental_info_old）
  - 已搬离的租客历史记录
  - 数据归档管理

#### 2.2.3 功能特性
- 租客信息搜索（按姓名、房号、电话）
- 身份证号唯一性验证
- 租客搬迁记录
- 批量导入导出功能

### 2.3 合同管理模块

#### 2.3.1 合同信息管理
- **合同基础信息**
  - 合同编号（唯一性）
  - 房号、租客信息
  - 房东信息（姓名、电话）

- **租赁条款**
  - 月租金、押金
  - 合同起止日期
  - 合同期限（月）
  - 付款方式（月付、季付、半年付、年付）
  - 租金到期日设定

- **费用管理**
  - 水电费包含策略
  - 水费、电费单价设定
  - 合同条款和特殊约定

  - **数据分离**
  五楼合同（contracts_old）
  六楼合同（contracts_new）

#### 2.3.2 合同状态管理
- 状态类型：生效中、已到期、提前终止、续签
- 合同到期提醒
- 自动续签处理

#### 2.3.3 功能特性
- 合同模板管理
- 合同批量操作
- 合同到期预警
- 合同变更记录

### 2.4 费用管理模块

#### 2.4.1 租金管理
- **费用计算**
  - 月租金
  - 水费计算（按用量）
  - 电费计算（按用量）
  - 总费用汇总

- **缴费状态**
  - 已缴费/未缴费状态管理
  - 缴费时间记录
  - 欠费提醒

#### 2.4.2 缴费记录管理
- **缴费历史**
  - 缴费日期、金额记录
  - 缴费方式记录
  - 收据生成

- **数据分离**
  - 六楼缴费记录（rental_new/rental_records_new）
  - 五楼缴费记录（rental_old/rental_records_old）

#### 2.4.3 功能特性
- 费用自动计算
- 批量收费操作
- 欠费统计报表
- 收入统计分析

### 2.5 系统管理模块

#### 2.5.1 用户管理
- 管理员账号管理
- 登录认证
- 权限控制

#### 2.5.2 数据管理
- 数据备份恢复
- 数据迁移（新旧表结构）
- 系统日志管理

## 3. 非功能性需求

### 3.1 性能需求
- 系统响应时间：一般操作 < 2秒
- 并发用户数：支持至少100个并发用户
- 数据库查询优化：复杂查询 < 5秒

### 3.2 安全需求
- 用户身份认证
- 敏感数据加密存储
- 操作日志记录
- 数据访问权限控制

### 3.3 可用性需求
- 系统可用性：99.5%
- 界面友好，易于操作
- 支持多浏览器兼容
- 移动端自适应

### 3.4 扩展性需求
- 支持多租户架构
- 模块化设计，便于功能扩展
- 支持第三方系统集成

## 4. 用户界面需求

### 4.1 主界面设计
- **导航菜单**
  - 仪表盘（概览信息）
  - 房间管理
  - 租客管理
  - 合同管理
  - 费用管理
  - 统计报表
  - 系统设置

### 4.2 关键页面设计

#### 4.2.1 仪表盘
- 房间使用率统计
- 本月收入统计
- 到期合同提醒
- 欠费情况概览

#### 4.2.2 房间管理页面
- 房间列表表格
- 房间状态筛选
- 新增/编辑房间对话框
- 批量操作功能

#### 4.2.3 租客管理页面
- 五楼租客/六楼租客切换
- 租客信息搜索
- 租客详情查看
- 搬迁操作功能

#### 4.2.4 合同管理页面
- 合同列表显示
- 合同状态筛选
- 合同详情编辑
- 续签操作

#### 4.2.5 费用管理页面
- 费用收缴列表
- 缴费状态更新
- 欠费提醒
- 收据打印

### 4.3 操作流程设计

#### 4.3.1 新租客入住流程
1. 添加房客信息
2. 创建租赁合同
3. 设置费用标准
4. 更新房间状态为"已出租"

#### 4.3.2 租客退房流程
1. 结算最后一期费用
2. 更新合同状态为"提前终止"
3. 将租客信息移至历史记录
4. 更新房间状态为"空闲"

#### 4.3.3 费用收缴流程
1. 查看未缴费记录
2. 录入缴费信息
3. 生成缴费记录
4. 更新缴费状态

## 5. 技术需求

### 5.1 系统架构
- **前端**：Vue.js 3 + TypeScript
- **后端**：Spring Boot + Java
- **数据库**：MySQL 8.0
- **部署**：Docker容器化部署

### 5.2 数据库设计
- 基于现有数据库结构优化
- 支持新旧数据并存
- 建立合适的索引提升查询性能
- 实现数据归档策略

### 5.3 关键技术点
- RESTful API设计
- JWT身份认证
- 响应式Web设计
- 数据导入导出功能
- 报表生成（支持PDF/Excel）

## 6. 数据模型分析

### 6.1 核心实体关系
```
房间(rooms) 1:N 租赁信息(rental_info)
租赁信息(rental_info) 1:1 联系人(contacts)
租赁信息(rental_info) 1:1 合同(contracts)
租赁信息(rental_info) 1:N 租金记录(rental)
租金记录(rental) 1:N 缴费记录(rental_records)
```

### 6.2 数据分离策略
系统采用新旧数据分离策略：
- **_new表**：存储六楼数据
- **_old表**：存储五楼数据
- 便于数据管理和性能优化

## 7. 实施计划

### 7.1 开发阶段
1. **第一阶段**（4周）：基础功能开发
   - 房间管理
   - 租客管理
   - 基础的增删改查功能

2. **第二阶段**（3周）：核心业务功能
   - 合同管理
   - 费用管理
   - 缴费记录

3. **第三阶段**（2周）：高级功能
   - 统计报表
   - 数据导入导出
   - 系统优化

4. **第四阶段**（1周）：测试部署
   - 功能测试
   - 性能优化
   - 部署上线

### 7.2 验收标准
- 所有功能模块正常运行
- 界面友好，操作流畅
- 数据准确性验证
- 性能指标达标
- 安全性测试通过

## 8. 风险评估

### 8.1 技术风险
- 数据库迁移风险：新旧表结构差异处理
- 性能风险：大数据量查询优化

### 8.2 业务风险
- 需求变更风险：业务流程调整
- 用户接受度风险：操作习惯改变

### 8.3 风险缓解措施
- 充分的需求调研和确认
- 分阶段开发和测试
- 提供用户培训和技术支持
- 建立完善的备份和恢复机制

---

**文档版本**：v1.0  
**创建日期**：2025年  
**最后更新**：2025年  
**负责人**：开发团队